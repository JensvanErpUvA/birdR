<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>roi — roi • birdar</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="roi — roi"><meta property="og:description" content="Return the area of interest. Three filters (inclusion_donut, exclusion_angle, exclusion_location) can be specified."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">birdar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/aa-processing.html">aa-processing</a>
    </li>
    <li>
      <a href="../articles/aa-processing_raw.html">aa-processing</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>roi</h1>
    
    <div class="hidden name"><code>roi.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Return the area of interest. Three filters (inclusion_donut, exclusion_angle, exclusion_location) can be specified.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">roi</span><span class="op">(</span>
  location <span class="op">=</span> <span class="cn">NULL</span>,
  distance <span class="op">=</span> <span class="cn">NULL</span>,
  excl_angles <span class="op">=</span> <span class="cn">NULL</span>,
  excl_geom <span class="op">=</span> <span class="cn">NULL</span>,
  excl_buffer <span class="op">=</span> <span class="cn">NULL</span>,
  crs <span class="op">=</span> <span class="va">loc_epsg</span>,
  verbose <span class="op">=</span> <span class="cn">T</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>location</dt>
<dd><p>coordinate, vector of radar coordinates, or spatial point. Input coordinates in WGS84.</p></dd>
<dt>crs</dt>
<dd><p>crs to perform calculations in. If different from location coordinate, the location coordinate will reprojected</p></dd>
<dt>inclusion_ring</dt>
<dd><p>vector of minimum and maximum distance in meters to include</p></dd>
<dt>exclusion_angle</dt>
<dd><p>vector, list or data.frame of angle-pairs to exclude from analysis</p></dd>
<dt>exclusion_location</dt>
<dd><p>sf-object with locations which can reliably be excluded</p></dd>
<dt>exclusion_location_buffer</dt>
<dd><p>buffer in unit of crs?</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a polygon with inclusion zones</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>With the argument exclusion_angle for which we expect structural interference.
Here we have two types of interference:</p><ol><li><p>The turbine the radar is situated on blocks one side of the radar window</p></li>
<li><p>The area overlapping with the vertical radar beam, which mostly has mixed
tracks we did not include in this study. Therefore this area is not relevant here
We remove the blocked corners by creating a triangle using the radar coordinates,
the corner angles, and  maximum distance.</p></li>
</ol></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># inclusion ring</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># location as vector</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># location as geom</span></span>
<span class="r-in"><span class="co"># 4326</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">4326</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(4.185345, 52.42783)), crs = 4326):</span> could not find function "st_sfc"</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"><span class="co"># 3035</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3925960</span>, <span class="fl">3273397</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">3035</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(3925960, 3273397)), crs = 3035):</span> could not find function "st_sfc"</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"><span class="co">## distance</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># one distance value: no exclusion of area near radar</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">4326</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(4.185345, 52.42783)), crs = 4326):</span> could not find function "st_sfc"</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fl">2500</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"><span class="co"># two distance values: no exclusion of area near radar</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">4326</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(4.185345, 52.42783)), crs = 4326):</span> could not find function "st_sfc"</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## exclusion angles</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">4326</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(4.185345, 52.42783)), crs = 4326):</span> could not find function "st_sfc"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># exclusion angles can be a list, vector or matrix</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># list</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># vector</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># matrix</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">2</span>,ncol<span class="op">=</span><span class="fl">2</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># do not exclude areas near the radar</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,nrow<span class="op">=</span><span class="fl">2</span>,ncol<span class="op">=</span><span class="fl">2</span>,byrow<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## exclusion areas</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># without buffer points will not be excluded</span></span>
<span class="r-in"><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu">st_sfc</span><span class="op">(</span><span class="fu">st_point</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.185345</span>, <span class="fl">52.42783</span><span class="op">)</span><span class="op">)</span>,crs<span class="op">=</span><span class="fl">4326</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_sfc(st_point(c(4.185345, 52.42783)), crs = 4326):</span> could not find function "st_sfc"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="va">turbines</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># buffer outside the function</span></span>
<span class="r-in"><span class="va">polygons</span> <span class="op">&lt;-</span> <span class="fu">st_buffer</span><span class="op">(</span><span class="fu">st_transform</span><span class="op">(</span><span class="va">turbines</span><span class="op">$</span><span class="va">geometry</span>,<span class="fl">23095</span><span class="op">)</span>,<span class="fl">100</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_buffer(st_transform(turbines$geometry, 23095), 100):</span> could not find function "st_buffer"</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="va">polygons</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"><span class="co"># buffer within the function</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="va">turbines</span>,</span>
<span class="r-in">                         excl_buffer<span class="op">=</span><span class="fl">100</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># vary the buffer distance based on distance from radar</span></span>
<span class="r-in"><span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu">st_distance</span><span class="op">(</span><span class="va">location</span>,<span class="va">turbines</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_distance(location, turbines$geometry):</span> could not find function "st_distance"</span>
<span class="r-in"><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">dist</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in max(dist):</span> invalid 'type' (closure) of argument</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2500</span>,<span class="fl">1000</span><span class="op">)</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="va">turbines</span>,</span>
<span class="r-in">                         excl_buffer<span class="op">=</span><span class="va">weight</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># apply a buffer around multiple locations by using lists</span></span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fl">2500</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">turbines</span>,<span class="va">location</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_buffer<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">1000</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># apply a buffer around multiple locations by using lists and varying buffer weight within a single dataset</span></span>
<span class="r-in"><span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu">st_distance</span><span class="op">(</span><span class="va">location</span>,<span class="va">turbines</span><span class="op">$</span><span class="va">geometry</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in st_distance(location, turbines$geometry):</span> could not find function "st_distance"</span>
<span class="r-in"><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">dist</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in max(dist):</span> invalid 'type' (closure) of argument</span>
<span class="r-in"><span class="va">area_of_inclusion</span> <span class="op">&lt;-</span>  <span class="fu">roi</span><span class="op">(</span>location<span class="op">=</span><span class="va">location</span>,</span>
<span class="r-in">                         distance<span class="op">=</span><span class="fl">2500</span>,</span>
<span class="r-in">                         crs<span class="op">=</span><span class="fl">23095</span>,</span>
<span class="r-in">                         excl_angles<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">287</span>,<span class="fl">30</span>,<span class="fl">115</span>,<span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_geom<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">turbines</span>,<span class="va">location</span><span class="op">)</span>,</span>
<span class="r-in">                         excl_buffer<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">weight</span>,<span class="fl">1000</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in paste0("coordinates are converted to sfc_POINT EPSG:4326.\nwarning: If input coordinates are not 4326, please input a geometry with the correct CRS as location-argument. \ne.g. st_sfc(st_point(location),crs=",     loc_epsg, ")"):</span> object 'loc_epsg' not found</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by First Last.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

